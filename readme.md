2.4 Порядок выполнения работы
1. Разработать базовый класс BaseActiveRecord для работы с базой
данных, который реализует паттерн ActiveRecord (данный класс
разместить в папке /my_site/app/core). Данный класс должен реализовать
следующие функции:
2. Для всех моделей, которые будут использоваться при выполнении
данной лабораторной работы, создать классы, наследующие BaseAc-
tiveRecord. Для каждого из классов определить все поля и названия таблиц
(данные классы необходимо разместить в папке /my_site/app/models).
3. Создать новую страницу "Гостевая книга". Страница должна
содержать форму ввода (Фамилия, Имя, Отчество, E –mail, Текст отзыва), а
также таблицу сообщений, оставленных пользователями. Сообщения в
таблице должны располагаться в порядке убывания даты добавления
сообщения. Для хранения сообщений пользователей использовать
текстовый файл messages.inc, содержащий разделенные символом «;»
данные: Дату сообщения, ФИО, E–mail и Текст отзыва (для получения
текущей даты сервера возможно использовать PHP функцию date('d.m.y')).
69
4. Реализовать страницу "Загрузка сообщений гостевой книги",
содержащую форму загрузки подготовленного заранее файла messages.inc
на сервер.
5. Реализовать на странице "Тест по дисциплине" сохранение ответов
пользователей и правильности ответов в разработанную таблицу базы
данных MySQL, с возможностью просмотра сохраненных данных (дата,
ФИО, ответы, верно/неверно).
6. Разработать страницу «Редактор Блога», позволяющую добавлять
записи Блога. Страница должна содержать форму добавления записи Блога
и список выдаваемых постранично записей отсортированных в порядке
убывания даты. Форма добавления должна содержать поля ввода:
 Тема сообщения – поле ввода однострочного текста (заполнение
обязательно);
 Изображение – поле ввода файла (заполнение не обязательно);
 Текст сообщения – поле ввода многострочного текста.
Данные хранить в разработанной таблице базы данных MySQL.
Валидацию данных осуществлять с использованием класса FormValidation,
разработанного при выполнении ЛР No8.
7. Разработать страницу «Мой Блог», содержащую упорядоченные в
порядке убывания даты добавления, выдаваемые постранично данные:
 Дата и время сообщения;
 Тема сообщения;
 Изображение;
 Текст сообщения.
Данные извлекать из таблицы базы данных MySQL. Формат
постраничного вывода определяется из таблицы 2.2 в соответствии с
вариантом задания. Вариант задания определяется как (ПЦЗК mod 6)+1 –
(остаток от деления последней цифры зачетной книжки на 6 плюс 1).
8. Реализовать возможность добавления записей на страницу «Мой
Блог» из файла формата CSV, содержащего следующие поля: title, message,
author, created_at. Например: "тема 1","сообщение 1","Vasiliy","2019-01-01
14:00". Для этого необходимо разработать страницу «Загрузка сообщений
блога», содержащую форму загрузки файла формата CSV. Добавление
записей из файла в БД осуществлять с использованием подготавливаемых
запросов (см. п. 2.2.4). Валидацию данных осуществлять с использованием
класса FormValidation, разработанного при выполнении ЛР No8.